<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeoView - Bản đồ Hành chính Việt Nam</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background: #0F0C29;
            background: -webkit-linear-gradient(to right, #24243E, #302B63, #0F0C29);
            background: linear-gradient(to right, #24243E, #302B63, #0F0C29);
        }
        .glassmorphism {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        /* Style cho thanh cuộn bên trong hộp phải */
        .scroll-box::-webkit-scrollbar { 
            width: 5px; 
        }
        .scroll-box::-webkit-scrollbar-thumb { 
            background-color: #a855f7; 
            border-radius: 20px; 
        }
    </style>
</head>
<body class="text-white h-screen flex flex-col">

    <header class="glassmorphism sticky top-0 z-50 flex-shrink-0">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="text-2xl font-bold tracking-wider">VN<span class="text-purple-400">MAP</span></a>
            <div class="space-x-8 text-base font-medium text-gray-300">
                <a href="index.html" class="hover:text-purple-300">Trang Chủ</a>
                <a href="about.html" class="hover:text-purple-300">Giới Thiệu</a>
                <a href="docs.html" class="hover:text-purple-300">Tài Liệu</a>
            </div>
        </nav>
    </header>

    <!-- ===== LAYOUT CHÍNH TỐI ĐA HÓA KHÔNG GIAN ===== -->
    <main class="flex-grow grid lg:grid-cols-2 overflow-hidden">
        
        <!-- ===== CỘT BÊN TRÁI: CHỈ CÓ ẢNH ===== -->
        <div class="h-full w-full flex items-center justify-center p-8 relative">
             <!-- SỬA ĐỔI: Cập nhật đường dẫn ảnh -->
            <img src="data/vietnam_map.jpg" alt="Bản đồ Việt Nam" class="max-h-full max-w-full object-contain opacity-70">
        </div>

        <!-- ===== CỘT BÊN PHẢI: HỘP CHỨC NĂNG ===== -->
        <div class="h-full w-full flex items-center justify-center p-8">
            <div class="glassmorphism rounded-2xl w-full h-full flex flex-col p-8 md:p-10 border-t-2 border-purple-500 scroll-box overflow-y-auto">
                
                <!-- Sửa đổi: Tiêu đề nằm trên cùng, không có dòng mô tả -->
                <h1 class="text-4xl md:text-5xl font-extrabold text-center mb-6 bg-gradient-to-r from-purple-400 to-blue-400 text-transparent bg-clip-text flex-shrink-0">
                    Khám Phá Địa Lý Việt Nam
                </h1>

                <!-- SỬA ĐỔI: Chức năng chọn tỉnh đã được chuyển vào đây -->
                <h2 class="text-xl font-bold mb-4 text-gray-200 text-center flex-shrink-0">Chọn một địa danh để bắt đầu</h2>

                <div id="province-buttons" class="flex-grow grid grid-cols-3 sm:grid-cols-4 gap-3 p-2 min-h-[250px]">
                    <div class="col-span-3 sm:col-span-4 flex items-center justify-center text-gray-400">
                        <div class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"></div>
                        <span class="ml-3">Đang tải danh sách tỉnh...</span>
                    </div>
                </div>

                <!-- ===== PHẦN TÌM KIẾM TẠM ẨN TRONG COMMENT ===== -->
                <!--
                <div class="mt-auto pt-6 border-t border-white/10">
                    <div class="relative">
                        <input type="text" id="main-search" placeholder="Hoặc tìm kiếm tại đây..." autocomplete="off" class="w-full p-4 pl-10 rounded-lg text-lg bg-gray-900 bg-opacity-50 text-white border-2 border-purple-600 focus:outline-none focus:ring-4 focus:ring-purple-400 focus:ring-opacity-50 transition duration-300">
                        <svg class="w-6 h-6 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                        <div id="search-results" class="absolute text-left bottom-full left-0 right-0 mb-2 bg-gray-800 border border-purple-700 rounded-lg shadow-lg z-30 hidden max-h-[300px] overflow-y-auto"></div>
                    </div>
                </div>
                -->
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const buttonContainer = document.getElementById('province-buttons');
            const API_URL = 'https://vnmap-safeschool.net/api.php';

            try {
                // SỬA ĐỔI: Chỉ fetch dữ liệu tỉnh vì tìm kiếm đã bị vô hiệu hóa
                const tinhRes = await fetch(`${API_URL}?action=get_all_provinces`);
                if (!tinhRes.ok) throw new Error("Không thể tải danh sách tỉnh từ API.");
                const tinhData = await tinhRes.json();

                // Tạo các nút bấm tỉnh thành
                buttonContainer.innerHTML = '';
                tinhData['Province List'].forEach(province => {
                    const button = document.createElement('a');
                    button.href = `map.html?province=${encodeURIComponent(province['Tên Tỉnh'])}&id=${province['Mã Tỉnh']}`;
                    button.target = '_blank';
                    button.className = 'p-2 text-center text-sm truncate rounded-md bg-white/10 hover:bg-purple-600 hover:text-white transition-colors duration-200';
                    button.textContent = province['Tên Tỉnh'];
                    buttonContainer.appendChild(button);
                });

            } catch (error) {
                console.error("Lỗi khi tải dữ liệu:", error);
                buttonContainer.innerHTML = '<div class="col-span-3 sm:col-span-4 text-center p-8 text-red-400">Không thể tải danh sách tỉnh. Vui lòng kiểm tra lại API.</div>';
            }

            // ===== PHẦN LOGIC TÌM KIẾM ĐÃ ĐƯỢC VÔ HIỆU HÓA ===== 
            /*
            const searchInput = document.getElementById('main-search');
            const resultsContainer = document.getElementById('search-results');
            // ... và các logic liên quan khác ...
            */
        });
    </script>
</body>
</html>